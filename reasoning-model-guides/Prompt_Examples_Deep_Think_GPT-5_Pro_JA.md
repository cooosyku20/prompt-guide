# そのまま使えるプロンプト集（Gemini 2.5 Pro Deep Think & GPT-5 Pro）—類似点/相違点付き

各セクションで **🧠 Deep Think版** と **⚙️ GPT-5 Pro版** を並記し、最後に**「類似点」**と**「相違点（注意点）」**を追記しています。`{…}` を差し替えてお使いください。

---

## 1) 数学（証明問題）

### 🧠 Deep Think版（コピペ用）
```
命題: 「{命題をここに}」
目標: 完成した証明と鍵アイデアの抽出
指示:
- 内部で {帰納法, 反証法, 構成的証明} を並列検討し、最も簡潔で筋の良い方針に収束。
- 不要な思考過程は出力しない。
出力:
1) 完成した証明（自然言語で厳密に）
2) 鍵アイデア3点
3) 使った補題/既知定理（名称だけ）
```

### ⚙️ GPT-5 Pro版（コピペ用）
```
命題: 「{命題をここに}」
指示:
- 内部で {帰納/反証/構成} を並列検討→最良方針のみ出力。
- 出力を JSON で構造化し、機械可読にする。
出力(JSON):
{
  "theorem": "{命題}",
  "proof": "{完成した証明（厳密かつ簡潔）}",
  "key_ideas": ["{要点1}", "{要点2}", "{要点3}"],
  "assumptions": ["{公理/補題名}"],
  "gaps_to_check": ["{確認すべき細部があれば}"]
}
```

**類似点**
- 並列→収斂（複数方針を内部検討→最良のみ出力）
- 証明本文＋鍵アイデアの2層構成で理解を補強

**相違点（注意点）**
- Deep Think：**人が読む**最終形を優先（文章中心）
- GPT-5 Pro：**JSON構造**で検証・再利用しやすく（ツール連携前提）

---

## 2) アルゴリズム設計（設計→実装→評価）

### 🧠 Deep Think版（コピペ用）
```
課題: {問題文}
指示:
- 内部で {貪欲, 動的計画法, グラフ/データ構造} の方針を並列比較。
- 最良方針のみを採用し、不要な思考過程は出力しない。
出力:
1) 擬似コード
2) 計算量解析（時間/空間、最悪・平均）
3) 代表テスト10件（境界値・最悪ケース含む）
4) 想定失敗パターンと緩和策（1行ずつ）
```

### ⚙️ GPT-5 Pro版（コピペ用）
```
課題: {問題文}
制約: {言語/標準ライブラリのみ など}
指示:
- 内部で複数方針を評価→最良一つに収束。
- 出力は「機械可読 + 再現性」を重視。
出力:
1) 最終コード（言語: {X}）のみ
2) 単体テスト（10件）と実行コマンド
3) metrics.json （計算量/入力サイズ別推定）スキーマ:
   { "time_complexity": "...", "space_complexity": "...", "notes": "..." }
4) README.md 要約（使い方/制約/既知の落とし穴）— 箇条書きで短く
```

**類似点**
- まず複数解法を検討→最良案のみ提示
- 計算量・テストで品質を担保

**相違点（注意点）**
- Deep Think：**擬似コード中心**で設計意図を伝える
- GPT-5 Pro：**コード + テスト + メトリクスJSON**で**実務投入**を即可能に

---

## 3) 戦略策定（市場参入/プロダクト計画）

### 🧠 Deep Think版（コピペ用）
```
前提: {製品/市場/予算/期間}
指示:
- 内部で A/B/Cの3戦略を独立検討→最適1案のみ出力。
出力:
1) 比較表（KPI/費用/リスク/実行難易度）
2) 採択理由（200字以内）
3) 90日ロードマップ（マイルストーン/担当/リスク緩和）
4) 仮定表（不明点と暫定値）
```

### ⚙️ GPT-5 Pro版（コピペ用）
```
前提: {製品/市場/予算/期間}
目的: {KPI}
指示:
- 内部で複数戦略を評価→最有力案1つ。
- 出力は構造化 + 実行可能性重視。
出力(JSON):
{
  "chosen_strategy": "{名称}",
  "why": "{採択理由（200字以内）}",
  "kpi_targets": {"M1":"{数値}", "M2":"{数値}"},
  "work_plan": [
    {"wk":1, "tasks":["..."], "owner":"...", "risk":"...", "mitigation":"..."},
    {"wk":2, ...}
  ],
  "budget_split": {"ads":..., "sales":..., "ops":...},
  "abort_criteria": ["{停止基準1}", "{2}"],
  "assumptions": ["{重要仮定}"]
}
```

**類似点**
- 比較→収斂、KPI明示、仮定を開示して透明性を確保

**相違点（注意点）**
- Deep Think：**意思決定資料**として読みやすい体裁（比較表/文章）
- GPT-5 Pro：**JSON化**＋**停止基準/担当/週次タスク**まで具体化（ツール/ダッシュボード連携を想定）

---

## 4) データ分析 & A/Bテスト設計

### 🧠 Deep Think版（コピペ用）
```
データ: {CSV/指標の説明}
目的: {意思決定の目的}
指示:
- 内部で因果仮説を3つ並列検討→1つに収束。
出力:
1) 洞察3点（各3行）
2) 主要仮説と反証可能性
3) A/Bテスト計画（指標/最小検出効果/MDE/期間/サンプルサイズの概算）
4) 次に取るべきアクション3つ
```

### ⚙️ GPT-5 Pro版（コピペ用）
```
データ: {スキーマ/サンプル}
目的: {意思決定の目的}
指示:
- 出力は再現性・検証容易性を最優先。
出力:
1) 実験計画を JSON で:
   {"metric_primary":"...", "metrics_secondary":["..."], "MDE":"...", "power":0.8, "duration_days":..., "sample_size":...}
2) 集計SQL（BigQuery方言）と列定義
3) 解析手順（前処理→除外基準→統計検定）を手順書として箇条書き
4) リスクログ（交絡/季節性/実装落とし穴）— 各1行
```

**類似点**
- 仮説→検証デザイン→アクションの**意思決定直結型**
- 反証可能性/リスクの明示

**相違点（注意点）**
- Deep Think：洞察と設計の**要旨**を凝縮
- GPT-5 Pro：**JSON + SQL + 手順書**で**そのまま走らせる**前提

---

## 5) コーディング（バグ検出／単一テキスト）

### 🧠 Deep Think版（コピペ用）
```
あなたは一流のソフトウェア品質エンジニア兼セキュリティレビューアです。
目的: 単一テキストに含まれる「プロジェクト構成＋全ソース」から潜在バグを体系的に特定し、修正案まで提示する。

入力（プロジェクト全文。以下の PROJECT ブロックに貼る）:
<PROJECT>
{ここに “フォルダ/ファイル構成” と “各ファイルのソース全文” を貼る}
</PROJECT>

前提とやること:
- 内部で複数観点（正しさ/セキュリティ/並行性/エラー処理/パフォーマンス/資源リーク/移植性/i18n/API誤用/依存関係）を並列検討し、最適な指摘だけを出力。思考過程は出力しない。
- 入力中のファイル境界は、ファイル名やツリー表記、```lang ...``` のフェンス、"BEGIN/END FILE" などから推定。
- 可能なら各指摘に file_path と行番号（start_line–end_line。各ファイル先頭からの相対）を付与。
- 同一原因の重複は 1 件に集約し、「影響箇所一覧」を併記。

出力（この順・この体裁）:
1) 概要（50〜120字）: 主要な危険領域と想定インパクト
2) 重大度の定義（記述例）:
   - **Critical**: 本番停止・機密データ漏洩・任意コード実行など即時対応必須。再現性が高く**回避策なし**、または法的/コンプライアンス重大リスク。
   - **High**: 主要機能の失敗、深刻なセキュリティ欠陥（認証/認可欠落、注入等）。**一時回避策あり**だがリリースブロッカー相当。
   - **Medium**: 限定条件での機能不全/データ不整合/顕著な性能退行/エラー処理不備。**回避策あり**で運用継続可能。次リリースで修正。
   - **Low**: 影響が軽微な動作/安全性の課題（ログ不足、非推奨API、監視閾値不適切など）。**外観/スタイルのみ**は対象外。
3) 重要指摘トップN（N={10}まで）
   - id: BUG-xxx
   - severity: {Critical|High|Medium|Low}
   - category: {correctness|security|concurrency|performance|reliability|portability|i18n|api-misuse|dependency|other}
   - file_path: 相対パス
   - lines: L{start}-L{end}
   - finding: 何が問題か（1〜2文）
   - evidence: 問題箇所の最小抜粋コード（3〜12行）
   - why: なぜバグ/脆弱か（要点3つ以内）
   - repro: 再現手順 or 失敗シナリオ（簡潔に/擬似入力可）
   - fix: 最小修正の方針（1〜3文）
   - diff: 可能なら unified diff（該当ハンクのみ）
   - tests: 追加すべきテスト（境界/最悪ケース 各1行）
4) 影響箇所一覧（重複集約した場合のみ）
5) 早期是正の優先順位（理由つき箇条書き）

制約:
- 入力全文の再掲は禁止。必要最小限の抜粋のみ。
- 推測に基づく指摘は「assumption: …」として明示。
- スタイルのみの話題は除外（動作/安全性に効くものを優先）。
- 日本語で簡潔に。専門用語はそのままで可。
```

### ⚙️ GPT-5 Pro版（コピペ用）
````
あなたはバグ検出エンジニアです。単一テキストの「プロジェクト構成＋全ソース」から潜在バグを検出し、構造化JSONと最小diffで返してください。
思考過程は出力しない。冗長説明は不要。

入力（以下の PROJECT ブロックに貼る）:
<PROJECT>
{ここに “フォルダ/ファイル構成” と “各ファイルのソース全文” を貼る}
</PROJECT>

要件:
- 解析観点: correctness, security, concurrency, error-handling, performance, resource-leak, portability, i18n, api-misuse, dependency
- 同型の問題は 1 件に集約し、`locations[]` に全影響箇所を列挙
- 行番号はファイル内相対で `start_line` / `end_line`
- 返却は次の JSON スキーマに厳密準拠（**JSON 以外は出力しない**）

JSONスキーマ（キー名・順序固定）:
{
  "summary": {
    "highlights": ["主要な危険領域を最大3点、各≤120字"],
    "stats": {"total_findings": 0, "critical": 0, "high": 0, "medium": 0, "low": 0}
  },
  "severity_definition": {
    "Critical": "本番停止・機密データ漏洩・任意コード実行など即時対応必須。再現性が高く回避策なし、または重大な法的/コンプライアンスリスクを伴う。",
    "High": "主要機能の失敗や深刻なセキュリティ欠陥（認証/認可欠落、注入等）。一時回避策はあるがリリースブロッカー相当。",
    "Medium": "限定条件での機能不全、データ不整合、顕著な性能退行、エラー処理の欠如。回避策ありで運用継続可能（次リリースで修正）。",
    "Low": "影響が軽微な動作/安全性の課題（ログ不足、非推奨API、監視閾値の不適切さ等）。外観/スタイルのみは対象外。"
  },
  "findings": [
    {
      "id": "BUG-0001",
      "severity": "High",
      "category": "security",
      "title": "短い要約（≤80字）",
      "pattern": "再発見に役立つシグネチャやルール（あれば）",
      "locations": [
        {"file_path": "path/to/file1.ext", "start_line": 120, "end_line": 128},
        {"file_path": "path/to/file2.ext", "start_line": 77, "end_line": 82}
      ],
      "evidence_snippet": "最小の問題抜粋（最大12行）",
      "explanation": "なぜ問題か（2〜4文）",
      "fix_hint": "最小修正方針（1〜3文）",
      "diff": "```diff\n--- a/path/to/file1.ext\n+++ b/path/to/file1.ext\n@@ -120,7 +120,7 @@\n- vulnerable code\n+ fixed code\n```",
      "tests_to_add": ["境界/最悪/回帰テスト（各1行）"],
      "confidence": 0.0
    }
  ]
}

制約:
- **JSON以外は出力しない**（前文/後文/マークダウン禁止）
- `diff` は可能なもののみ。複数ファイルなら代表ハンク1〜3個
- `confidence` は 0.0〜1.0
- 影響の軽微なスタイル指摘は除外
````

**類似点**
- 並列観点で洗い出し → 重複集約 → 重要度順で提示する骨子は同じ
- file_path／行番号／最小抜粋など、**根拠の最小提示**で再現性を担保
- 思考過程は非表示、**結論と根拠のみ**を明確化

**相違点（注意点）**
- Deep Think版：**監査レポート体裁**（概要→定義→トップN→優先順位）で、人間の意思決定を促進
- GPT-5 Pro版：**厳格JSON＋diff**で**機械可読**・自動チケット化/CIゲート連携を前提
- Deep Think版は「なぜ・どう直す」を短文で、人が読みやすい説明重視／GPT-5 Pro版は**スキーマ遵守**と**冗長禁止**を最優先

